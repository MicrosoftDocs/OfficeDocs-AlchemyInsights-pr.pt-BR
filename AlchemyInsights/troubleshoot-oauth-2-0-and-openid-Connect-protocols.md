---
title: Solucionar problemas dos protocolos OAuth 2.0 e OpenID Connect
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 03/17/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "9776"
- "9004342"
ms.openlocfilehash: d2f14d4d16bea890b564cdb9bd9ac3875c28d115
ms.sourcegitcommit: c08bed4071baa3bb5879496df3ed44fb828c8367
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/19/2021
ms.locfileid: "50897454"
---
# <a name="troubleshoot-oauth-20-and-openid-connect-protocols"></a><span data-ttu-id="d2520-102">Solucionar problemas dos protocolos OAuth 2.0 e OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="d2520-102">Troubleshoot OAuth 2.0 and OpenID Connect protocols</span></span>

<span data-ttu-id="d2520-103">Para resolver os problemas do OAuth 2.0 e do OpenID Connect, execute as seguintes etapas recomendadas:</span><span class="sxs-lookup"><span data-stu-id="d2520-103">To resolve OAuth 2.0 and OpenID Connect issues, perform the following recommended steps:</span></span>

<span data-ttu-id="d2520-104">Confira os artigos a seguir relacionados à configuração e solução de problemas dos protocolos OAuth 2.0 e OpenID Connect:</span><span class="sxs-lookup"><span data-stu-id="d2520-104">Refer to the following articles that are related to configuration and troubleshooting OAuth 2.0 and OpenID Connect protocols:</span></span>

- <span data-ttu-id="d2520-105">[Plataforma de identidade para desenvolvedores da Microsoft e fluxo de código de autorização OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) – Este artigo descreve como programar diretamente no **fluxo de concessão de código (PKCE)** em seu aplicativo usando qualquer idioma.</span><span class="sxs-lookup"><span data-stu-id="d2520-105">[Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - This article describes how to program directly against the **code grant (PKCE) flow** in your application, using any language.</span></span>
- <span data-ttu-id="d2520-106">[Plataforma de identidade para desenvolvedores da Microsoft e fluxo de credenciais do cliente OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) – Este artigo descreve como programar diretamente no **fluxo de credenciais do cliente** em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d2520-106">[Microsoft identity platform and the OAuth 2.0 client credentials flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - This article describes how to program directly against the **client credentials flow** in your application.</span></span>
- <span data-ttu-id="d2520-107">[Plataforma de identidade para desenvolvedores da Microsoft e Credenciais de Senha de Proprietário do Recurso do OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) – Este artigo descreve como programar diretamente no **fluxo do ROPC** em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d2520-107">[Microsoft identity platform and OAuth 2.0 Resource Owner Password Credentials](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - This article describes how to program directly against the **ROPC flow** in your application.</span></span>
    - <span data-ttu-id="d2520-108">A plataforma de identidade para desenvolvedores da Microsoft só dá suporte ao ROPC para locatários do Azure AD, e não para contas pessoais.</span><span class="sxs-lookup"><span data-stu-id="d2520-108">The Microsoft identity platform only supports ROPC for Azure AD tenants, and not for personal accounts.</span></span> <span data-ttu-id="d2520-109">Isso significa que você deve usar um ponto de extremidade específico do locatário **(https://login.microsoftonline.com/{TenantId_or_Name})** ou o ponto de extremidade da **organização**.</span><span class="sxs-lookup"><span data-stu-id="d2520-109">This means that you must use a tenant-specific endpoint **(https://login.microsoftonline.com/{TenantId_or_Name})** or the **organizations** endpoint.</span></span>
    - <span data-ttu-id="d2520-110">As contas pessoais que são convidadas a um locatário do Azure AD não podem usar o ROPC.</span><span class="sxs-lookup"><span data-stu-id="d2520-110">Personal accounts that are invited to an Azure AD tenant can't use ROPC.</span></span>
    - <span data-ttu-id="d2520-111">As contas que não têm senhas não podem entrar por meio do ROPC.</span><span class="sxs-lookup"><span data-stu-id="d2520-111">Accounts that don't have passwords can't sign in through ROPC.</span></span> <span data-ttu-id="d2520-112">Para esse cenário, recomendamos que você use um fluxo diferente para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d2520-112">For this scenario, we recommend that you use a different flow for your app, instead.</span></span>
    - <span data-ttu-id="d2520-113">Se os usuários precisarem usar a [MFA (autenticação multifator)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) para entrar no aplicativo, eles serão bloqueados.</span><span class="sxs-lookup"><span data-stu-id="d2520-113">If users need to use [multi-factor authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) to log in to the application, they will be blocked.</span></span>
    - <span data-ttu-id="d2520-114">O ROPC não tem suporte em [cenários de federação de identidade híbrida](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) (por exemplo, o Azure AD e o ADFS usados para autenticar contas locais).</span><span class="sxs-lookup"><span data-stu-id="d2520-114">ROPC is not supported in [hybrid identity federation](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenarios (for example, Azure AD and ADFS used to authenticate on-premises accounts).</span></span> <span data-ttu-id="d2520-115">Se os usuários forem redirecionados de uma página inteira para um provedor de identidade no local, o Azure AD não conseguirá testar o nome de usuário e a senha no provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="d2520-115">If users are full-page redirected to an on-premises identity provider, Azure AD is not able to test the username and password against that identity provider.</span></span> <span data-ttu-id="d2520-116">No entanto, a [autenticação de passagem](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) é compatível com o ROPC.</span><span class="sxs-lookup"><span data-stu-id="d2520-116">[Pass-through authentication](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) is supported with ROPC, however.</span></span>
    - <span data-ttu-id="d2520-117">Uma exceção a um cenário de federação de identidade híbrida seria o seguinte: a política Descoberta de Realm Inicial com **AllowCloudPasswordValidation** definida como **TRUE** habilitará o fluxo do ROPC para funcionar para usuários federados quando a senha local for sincronizada com a nuvem.</span><span class="sxs-lookup"><span data-stu-id="d2520-117">An exception to a hybrid identity federation scenario would be the following: Home Realm Discovery policy with **AllowCloudPasswordValidation** set to **TRUE** will enable ROPC flow to work for federated users when on-premises password is synced to cloud.</span></span> <span data-ttu-id="d2520-118">Para saber mais, confira [Habilitar a autenticação de ROPC direta de usuários federados para aplicativos herdados](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span><span class="sxs-lookup"><span data-stu-id="d2520-118">For more information, see [Enable direct ROPC authentication of federated users for legacy applications](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span></span> 
- <span data-ttu-id="d2520-119">[Plataforma de identidade para desenvolvedores da Microsoft e fluxo On-Behalf-Of do OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) – Este artigo descreve como programar diretamente no **fluxo On-Behalf-Of (OBO)** em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d2520-119">[Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - This article describes how to program directly against the **on-behalf-of (OBO) flow** in your application.</span></span>
- <span data-ttu-id="d2520-120">[Plataforma de identidade para desenvolvedores da Microsoft e protocolo OpenID Connect](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) – Este artigo mostra como implementar o protocolo OpenID Connect independente do idioma, e descreve como enviar e receber mensagens HTTP sem usar bibliotecas de código aberto da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d2520-120">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - This article shows how to implement the OpenID Connect protocol independent of language, and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>

<span data-ttu-id="d2520-121">**Tokens de Acesso**</span><span class="sxs-lookup"><span data-stu-id="d2520-121">**Access Tokens**</span></span>

<span data-ttu-id="d2520-122">[Tokens de acesso à plataforma de identidade da Microsoft](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) – Saiba como sua API pode validar e usar as declarações dentro de um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="d2520-122">[Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Learn how your API can validate and use the claims inside an access token.</span></span> <span data-ttu-id="d2520-123">Toda a documentação nesse artigo, exceto quando indicado, aplica-se somente aos tokens emitidos para APIs que você registrou.</span><span class="sxs-lookup"><span data-stu-id="d2520-123">All documentation in this article, except where noted, applies only to tokens issued for APIs you've registered.</span></span> <span data-ttu-id="d2520-124">Isso não se aplica aos tokens emitidos para APIs de propriedade da Microsoft; esses tokens também não podem ser usados para validar como faz a plataforma de identidade da Microsoft ao emitir tokens para uma API que você cria.</span><span class="sxs-lookup"><span data-stu-id="d2520-124">It does not apply to tokens issued for Microsoft-owned APIs, nor can those tokens be used to validate how the Microsoft identity platform will issue tokens for an API you create.</span></span>

<span data-ttu-id="d2520-125">**Configuração do Aplicativo**</span><span class="sxs-lookup"><span data-stu-id="d2520-125">**Application Configuration**</span></span>

<span data-ttu-id="d2520-126">[Restrições e limitações do URI de Redirecionamento (URL de resposta)](https://docs.microsoft.com/azure/active-directory/develop/reply-url) – Saiba como configurar seu URI de Redirecionamento (URL de resposta).</span><span class="sxs-lookup"><span data-stu-id="d2520-126">[Redirect URI (reply URL) restrictions and limitations](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Learn how to configure your Redirect URI (reply URL).</span></span> <span data-ttu-id="d2520-127">Um URI de redirecionamento, ou URL de resposta, é o local onde o servidor de autorização envia o usuário uma vez que o aplicativo tenha sido autorizado com êxito, e tenha sido concedido um código de autorização ou um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="d2520-127">A redirect URI, or reply URL, is the location where the authorization server sends the user once the app has been successfully authorized and granted an authorization code or access token.</span></span> <span data-ttu-id="d2520-128">O servidor de autorização envia o código ou token para o URI de redirecionamento; por isso é importante que você registre o local correto, como parte do processo de registro do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d2520-128">The authorization server sends the code or token to the redirect URI; so it's important you register the correct location as part of the app registration process.</span></span>

<span data-ttu-id="d2520-129">**Provisionamento de Aplicativo**</span><span class="sxs-lookup"><span data-stu-id="d2520-129">**Application Provisioning**</span></span>

<span data-ttu-id="d2520-130">[Tutorial: Desenvolver e planejar o provisionamento para um ponto de extremidade SCIM](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) – Este artigo descreve como construir um ponto de extremidade SCIM e integrá-lo ao serviço de provisionamento do AAD.</span><span class="sxs-lookup"><span data-stu-id="d2520-130">[Tutorial: Develop and plan provisioning for a SCIM endpoint](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - This article describes how to build an SCIM endpoint and integrate with the AAD provisioning service.</span></span>


